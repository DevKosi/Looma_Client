import{r as h,u as ye,j as e,R as je}from"./index--pE2Y7O1.js";import{i as f,h as p,b as m,q as X,o as fe,m as Ne,w as ve,n as ee,u as de,d as _,j as oe,p as we,r as ze,a as se,g as Se}from"./firebaseConfig-DFE2fxb7.js";import{x as Ae,g as De,y as V,z as ke,h as te,q as ae,A as re,B as W,C as J,D as le,e as K,E as Le,G as Te,k as Ue,H as ie,v as ne,w as ce,I as Ee,J as Ce,K as qe}from"./index-xssimCa8.js";import{A as $e}from"./index-XqJhnCLn.js";import{m as Re}from"./proxy-DxM4xlW9.js";const z={LAST_HOUR:"last_hour",LAST_24_HOURS:"last_24_hours",LAST_WEEK:"last_week",LAST_MONTH:"last_month",ALL_TIME:"all_time"},Q={EXCELLENT:{score:95,color:"green",label:"Excellent"},GOOD:{score:80,color:"blue",label:"Good"},FAIR:{score:65,color:"yellow",label:"Fair"},POOR:{score:50,color:"orange",label:"Poor"},CRITICAL:{score:0,color:"red",label:"Critical"}},Qe=async(l=z.ALL_TIME)=>{try{console.log("ðŸ” Fetching platform statistics...");const c=new Date;let r=null;switch(l){case z.LAST_HOUR:r=new Date(c.getTime()-60*60*1e3);break;case z.LAST_24_HOURS:r=new Date(c.getTime()-24*60*60*1e3);break;case z.LAST_WEEK:r=new Date(c.getTime()-7*24*60*60*1e3);break;case z.LAST_MONTH:r=new Date(c.getTime()-30*24*60*60*1e3);break}const[u,d]=await Promise.all([f(p(m,"users")),f(p(m,"quizzes"))]),a=u.docs.map(n=>({id:n.id,...n.data()})),t={students:a.filter(n=>n.role==="student"||!n.role),admins:a.filter(n=>n.role==="admin"),superAdmins:a.filter(n=>n.role==="superadmin")},b={};a.forEach(n=>{n.department&&(b[n.department]=(b[n.department]||0)+1)});const o=d.docs.map(n=>({id:n.id,...n.data()})),g={approved:o.filter(n=>n.status==="approved"),pending:o.filter(n=>n.status==="pending"),draft:o.filter(n=>n.status==="draft")},v={};o.forEach(n=>{n.department&&(v[n.department]=(v[n.department]||0)+1)});let y=0,x=0;const R={},S={},F=o.map(async n=>{const k=X(p(m,"quizzes",n.id,"submissions")),U=await f(k);if(S[n.id]={quizTitle:n.title,department:n.department,count:U.size,submissions:U.docs.map(E=>({id:E.id,...E.data()}))},y+=U.size,r){const E=U.docs.filter(B=>(B.data().submittedAt?.toDate?.()||new Date(B.data().submittedAt))>=r).length;x+=E}n.department&&(R[n.department]=(R[n.department]||0)+U.size)});await Promise.all(F);const D=o.length>0?y/o.length:0,M=t.students.length>0?y/t.students.length:0,L={userEngagement:Math.min(M/5*100,100),quizQuality:g.approved.length/Math.max(o.length,1)*100,systemActivity:Math.min(x/Math.max(y*.1,1)*100,100),platformGrowth:Math.min(t.students.length/50*100,100)},T=Object.values(L).reduce((n,k)=>n+k,0)/Object.keys(L).length;let j=Q.CRITICAL;T>=95?j=Q.EXCELLENT:T>=80?j=Q.GOOD:T>=65?j=Q.FAIR:T>=50&&(j=Q.POOR);const P={users:{total:a.length,byRole:t,byDepartment:b,recentSignups:r?a.filter(n=>(n.createdAt?.toDate?.()||new Date(n.createdAt))>=r).length:null},quizzes:{total:o.length,byStatus:g,byDepartment:v,recentCreated:r?o.filter(n=>(n.createdAt?.toDate?.()||new Date(n.createdAt))>=r).length:null},submissions:{total:y,recent:x,byDepartment:R,byQuiz:S,averagePerQuiz:Math.round(D*100)/100,averagePerUser:Math.round(M*100)/100},health:{score:Math.round(T),status:j,factors:L},timeFrame:l,generatedAt:new Date};return console.log("âœ… Platform statistics generated successfully"),P}catch(c){return console.error("âŒ Error fetching platform stats:",c),{error:c.message,users:{total:0,byRole:{},byDepartment:{}},quizzes:{total:0,byStatus:{},byDepartment:{}},submissions:{total:0,recent:0,byDepartment:{},byQuiz:{}},health:{score:0,status:Q.CRITICAL,factors:{}},timeFrame:l,generatedAt:new Date}}},Fe=async(l=100)=>{try{console.log("ðŸ“ Fetching user activity logs...");const c=await f(p(m,"quizzes")),r=[],u=c.docs.map(async a=>{const t=X(p(m,"quizzes",a.id,"submissions"),fe("submittedAt","desc"),Ne(20));(await f(t)).docs.forEach(o=>{const g=o.data();r.push({id:o.id,type:"quiz_submission",action:"Quiz Completed",user:{id:g.userId,name:g.fullName||"Unknown",regNumber:g.regNumber||"Anonymous",department:g.department||"Unknown"},quiz:{id:a.id,title:a.data().title,department:a.data().department},details:{score:g.score,total:g.total,percentage:g.percentage,timeSpent:g.timeSpent},timestamp:g.submittedAt?.toDate?.()||new Date(g.submittedAt||Date.now()),severity:"info",icon:"ðŸ“"})})});await Promise.all(u),r.sort((a,t)=>t.timestamp-a.timestamp);const d=r.slice(0,l);return console.log(`ðŸ“‹ Retrieved ${d.length} activity logs`),d}catch(c){return console.error("âŒ Error fetching activity logs:",c),[]}},Oe=async()=>{try{console.log("ðŸš¨ Checking for system alerts...");const l=[],c=new Date,r=X(p(m,"quizzes"),ve("status","==","pending")),u=await f(r);u.size>0&&l.push({id:"pending_quizzes",type:"warning",title:"Quizzes Pending Approval",message:`${u.size} quiz(es) are waiting for approval`,count:u.size,action:"Review pending quizzes",severity:"medium",timestamp:c,icon:"â³"});const d=await f(p(m,"users")),a={},t=new Date(c.getTime()-24*60*60*1e3);d.docs.forEach(y=>{const x=y.data();x.department&&(a[x.department]||(a[x.department]={users:0,recentActivity:!1}),a[x.department].users++,x.lastLogin?.toDate?.()>=t&&(a[x.department].recentActivity=!0))}),Object.entries(a).forEach(([y,x])=>{x.users>=5&&!x.recentActivity&&l.push({id:`inactive_dept_${y}`,type:"warning",title:"Inactive Department",message:`${y} department shows no recent activity`,department:y,action:"Check department engagement",severity:"low",timestamp:c,icon:"ðŸ˜´"})});const b=await f(p(m,"quizzes")),o=[],g=b.docs.map(async y=>{const x=y.data();if(x.status==="approved"){const S=(await f(p(m,"quizzes",y.id,"submissions"))).size,F=x.createdAt?.toDate?.()||new Date(x.createdAt),D=new Date(c.getTime()-7*24*60*60*1e3);F<D&&S<5&&o.push({title:x.title,department:x.department,submissions:S})}});await Promise.all(g),o.length>0&&l.push({id:"low_engagement",type:"info",title:"Low Quiz Engagement",message:`${o.length} approved quiz(es) have low participation`,count:o.length,details:o,action:"Review quiz engagement strategies",severity:"low",timestamp:c,icon:"ðŸ“‰"});const v={high:3,medium:2,low:1};return l.sort((y,x)=>(v[x.severity]||0)-(v[y.severity]||0)),console.log(`ðŸš¨ Found ${l.length} system alerts`),l}catch(l){return console.error("âŒ Error fetching system alerts:",l),[]}},_e=async()=>{try{console.log("ðŸ¢ Fetching department analytics...");const[l,c]=await Promise.all([f(p(m,"users")),f(p(m,"quizzes"))]),r={};l.docs.forEach(d=>{const a=d.data();if(a.department&&(r[a.department]||(r[a.department]={name:a.department,users:{total:0,students:0,admins:0},quizzes:{total:0,approved:0,pending:0,draft:0},submissions:{total:0,averageScore:0},lastActivity:null}),r[a.department].users.total++,a.role==="admin"?r[a.department].users.admins++:r[a.department].users.students++,a.lastLogin?.toDate?.())){const t=a.lastLogin.toDate();(!r[a.department].lastActivity||t>r[a.department].lastActivity)&&(r[a.department].lastActivity=t)}});const u=c.docs.map(async d=>{const a=d.data();if(a.department&&r[a.department]){r[a.department].quizzes.total++,r[a.department].quizzes[a.status]++;const t=await f(p(m,"quizzes",d.id,"submissions"));r[a.department].submissions.total+=t.size;let b=0,o=0;if(t.docs.forEach(g=>{const v=g.data();typeof v.percentage=="number"&&(b+=v.percentage,o++)}),o>0){const g=b/o;r[a.department].submissions.averageScore=(r[a.department].submissions.averageScore+g)/2}}});return await Promise.all(u),Object.values(r).forEach(d=>{const a={userBase:Math.min(d.users.total/20*100,100),quizActivity:Math.min(d.quizzes.total/10*100,100),engagement:Math.min(d.submissions.total/50*100,100),performance:d.submissions.averageScore||0};d.healthScore=Object.values(a).reduce((t,b)=>t+b,0)/Object.keys(a).length,d.healthFactors=a}),console.log(`ðŸ¢ Department analytics for ${Object.keys(r).length} departments`),Object.values(r)}catch(l){return console.error("âŒ Error fetching department analytics:",l),[]}},Me=async()=>{try{console.log("ðŸ’¾ Creating system backup...");const l={version:"1.0",timestamp:new Date().toISOString(),collections:{}},c=await f(p(m,"users"));l.collections.users=c.docs.map(u=>({id:u.id,...u.data()}));const r=await f(p(m,"quizzes"));l.collections.quizzes=[];for(const u of r.docs){const d={id:u.id,...u.data(),submissions:[],codes:[]},a=await f(p(m,"quizzes",u.id,"submissions"));d.submissions=a.docs.map(b=>({id:b.id,...b.data()}));const t=await f(p(m,"quizzes",u.id,"codes"));d.codes=t.docs.map(b=>({id:b.id,...b.data()})),l.collections.quizzes.push(d)}return l.metadata={totalUsers:l.collections.users.length,totalQuizzes:l.collections.quizzes.length,totalSubmissions:l.collections.quizzes.reduce((u,d)=>u+d.submissions.length,0),backupSize:JSON.stringify(l).length},console.log("âœ… System backup created successfully"),console.log(`ðŸ“Š Backup contains: ${l.metadata.totalUsers} users, ${l.metadata.totalQuizzes} quizzes, ${l.metadata.totalSubmissions} submissions`),l}catch(l){throw console.error("âŒ Error creating system backup:",l),new Error(`Backup failed: ${l.message}`)}},Pe=l=>{const c=[];try{const r=ee(p(m,"users"),d=>{console.log("ðŸ‘¥ Users collection updated"),l({type:"users_updated",count:d.size})}),u=ee(p(m,"quizzes"),d=>{console.log("ðŸ“š Quizzes collection updated"),l({type:"quizzes_updated",count:d.size})});return c.push(r,u),()=>{c.forEach(d=>d()),console.log("ðŸ”Œ Real-time listeners cleaned up")}}catch(r){return console.error("âŒ Error setting up real-time updates:",r),()=>{}}},He=async(l,c)=>{try{return await de(_(m,"users",l),{role:c,updatedAt:oe()}),console.log(`âœ… User ${l} role updated to ${c}`),!0}catch(r){throw console.error("âŒ Error updating user role:",r),r}},Be=async l=>{try{return await we(_(m,"users",l)),console.log(`âœ… User ${l} deleted`),!0}catch(c){throw console.error("âŒ Error deleting user:",c),c}},Ie=async(l,c)=>{try{return await de(_(m,"quizzes",l),{status:c,updatedAt:oe()}),console.log(`âœ… Quiz ${l} status updated to ${c}`),!0}catch(r){throw console.error("âŒ Error updating quiz status:",r),r}},Ge=async l=>{try{return await ze(m,async c=>{c.delete(_(m,"quizzes",l))}),console.log(`âœ… Quiz ${l} deleted globally`),!0}catch(c){throw console.error("âŒ Error deleting quiz globally:",c),c}};function Ye(){const[l,c]=h.useState(null),[r,u]=h.useState("overview"),[d,a]=h.useState({admin:!0,stats:!1,logs:!1,alerts:!1,departments:!1,backup:!1}),[t,b]=h.useState(null),[o,g]=h.useState([]),[v,y]=h.useState([]),[x,R]=h.useState([]),[S,F]=h.useState([]),[D,M]=h.useState([]),[L,T]=h.useState(z.LAST_24_HOURS),[j,P]=h.useState(!1),[n,k]=h.useState(null),[U,E]=h.useState(new Date),[B,Z]=h.useState(null),[Ve,me]=h.useState(null),C=ye();h.useEffect(()=>{(async()=>{try{const i=se.currentUser;if(!i){C("/login");return}const w=await Se(_(m,"users",i.uid));if(!w.exists()||w.data().role!=="superadmin"){C("/login");return}c({uid:i.uid,...w.data()})}catch(i){console.error("Error checking super admin access:",i),C("/login")}finally{a(i=>({...i,admin:!1}))}})()},[C]);const q=h.useCallback(async()=>{a(s=>({...s,stats:!0}));try{const s=await Qe(L);b(s),console.log("ðŸ“Š Platform stats loaded:",s)}catch{N("Failed to load platform statistics","error")}finally{a(s=>({...s,stats:!1}))}},[L]),H=h.useCallback(async()=>{a(s=>({...s,logs:!0}));try{const s=await Fe(50);g(s)}catch{N("Failed to load activity logs","error")}finally{a(s=>({...s,logs:!1}))}},[]),I=h.useCallback(async()=>{a(s=>({...s,alerts:!0}));try{const s=await Oe();y(s)}catch{N("Failed to load system alerts","error")}finally{a(s=>({...s,alerts:!1}))}},[]),G=h.useCallback(async()=>{a(s=>({...s,departments:!0}));try{const s=await _e();R(s)}catch{N("Failed to load department analytics","error")}finally{a(s=>({...s,departments:!1}))}},[]),A=h.useCallback(async()=>{try{const[s,i]=await Promise.all([f(p(m,"users")),f(p(m,"quizzes"))]),w=s.docs.map(O=>({id:O.id,...O.data()})),$=i.docs.map(O=>({id:O.id,...O.data()}));F(w),M($)}catch{N("Failed to load users and quizzes","error")}},[]);h.useEffect(()=>{l&&(q(),H(),I(),G(),A())},[l,q,H,I,G,A]),h.useEffect(()=>j?Pe(i=>{console.log("ðŸ”´ Real-time update:",i),E(new Date),i.type==="users_updated"?A():i.type==="quizzes_updated"&&(A(),q())}):void 0,[j,A,q]);const N=(s,i="success")=>{k({message:s,type:i}),setTimeout(()=>k(null),5e3)},xe=async()=>{a(s=>({...s,backup:!0}));try{const s=await Me(),i=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),w=URL.createObjectURL(i),$=document.createElement("a");$.href=w,$.download=`looma-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(w),N("System backup created and downloaded successfully!")}catch(s){N(`Backup failed: ${s.message}`,"error")}finally{a(s=>({...s,backup:!1}))}},ue=async(s,i)=>{try{await He(s,i),N(`User role updated to ${i}`),A()}catch(w){N(`Failed to update user role: ${w.message}`,"error")}},he=async s=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await Be(s),N("User deleted successfully"),A()}catch(i){N(`Failed to delete user: ${i.message}`,"error")}},ge=async(s,i)=>{try{await Ie(s,i),N(`Quiz status updated to ${i}`),A(),q()}catch(w){N(`Failed to update quiz status: ${w.message}`,"error")}},pe=async s=>{if(window.confirm("Are you sure you want to delete this quiz globally? This will remove all associated data."))try{await Ge(s),N("Quiz deleted successfully"),A(),q()}catch(i){N(`Failed to delete quiz: ${i.message}`,"error")}},be=async()=>{await se.signOut(),C("/login")},Y=async()=>{await Promise.all([q(),H(),I(),G(),A()]),E(new Date),N("All data refreshed successfully")};return d.admin?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Verifying SuperAdmin access..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-3 sm:py-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[e.jsx(Ae,{className:"text-red-600 flex-shrink-0",size:20}),e.jsx("span",{className:"truncate",children:"SuperAdmin Dashboard"})]}),e.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-gray-600 mt-1",children:"Global platform management and analytics"})]}),e.jsxs("button",{onClick:be,className:"flex items-center gap-2 text-red-600 hover:text-red-700 text-sm font-medium px-3 py-2 rounded-lg hover:bg-red-50 transition-colors ml-2",children:[e.jsx(De,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>P(!j),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors ${j?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${j?"bg-green-500 animate-pulse":"bg-gray-400"}`}),j?"Live":"Offline"]}),e.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 text-xs sm:text-sm font-medium",children:[e.jsx(V,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["Updated: ",U.toLocaleTimeString()]})]})]})})}),e.jsx($e,{children:n&&e.jsx(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-20 right-4 z-50",children:e.jsx("div",{className:`p-4 rounded-lg shadow-lg ${n.type==="error"?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"}`,children:n.message})})}),e.jsx("nav",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4",children:e.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:[{id:"overview",label:"Overview",icon:e.jsx(ke,{})},{id:"analytics",label:"Analytics",icon:e.jsx(te,{})},{id:"users",label:"Users",icon:e.jsx(ae,{})},{id:"quizzes",label:"Quizzes",icon:e.jsx(re,{})},{id:"departments",label:"Departments",icon:e.jsx(W,{})},{id:"logs",label:"Logs",icon:e.jsx(J,{})},{id:"maintenance",label:"Maintenance",icon:e.jsx(le,{})},{id:"leaderboard",label:"Leaderboard",icon:e.jsx(K,{})}].map(s=>e.jsxs("button",{onClick:()=>u(s.id),className:`px-3 sm:px-4 py-3 font-medium text-xs sm:text-sm flex items-center gap-1 sm:gap-2 whitespace-nowrap border-b-2 transition-colors ${r===s.id?"text-blue-600 border-blue-600":"text-gray-500 hover:text-gray-700 border-transparent"}`,children:[je.cloneElement(s.icon,{size:14}),e.jsx("span",{className:"hidden xs:inline sm:inline",children:s.label})]},s.id))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-4 sm:py-6",children:[r==="overview"&&e.jsxs("div",{className:"space-y-6",children:[t&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(Le,{className:"text-red-500"}),"System Health"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:L,onChange:s=>T(s.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[e.jsx("option",{value:z.LAST_HOUR,children:"Last Hour"}),e.jsx("option",{value:z.LAST_24_HOURS,children:"Last 24 Hours"}),e.jsx("option",{value:z.LAST_WEEK,children:"Last Week"}),e.jsx("option",{value:z.LAST_MONTH,children:"Last Month"}),e.jsx("option",{value:z.ALL_TIME,children:"All Time"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-center bg-white rounded-lg p-3 sm:p-4 shadow-sm",children:[e.jsxs("div",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mb-1 sm:mb-2 ${t.health.status.color==="green"?"text-green-600":t.health.status.color==="blue"?"text-blue-600":t.health.status.color==="yellow"?"text-yellow-600":t.health.status.color==="orange"?"text-orange-600":"text-red-600"}`,children:[t.health.score,"%"]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Overall Health"})]}),e.jsxs("div",{className:"text-center bg-white rounded-lg p-3 sm:p-4 shadow-sm",children:[e.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-blue-600 mb-1 sm:mb-2",children:t.users.total}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Total Users"})]}),e.jsxs("div",{className:"text-center bg-white rounded-lg p-3 sm:p-4 shadow-sm",children:[e.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-green-600 mb-1 sm:mb-2",children:t.quizzes.total}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Total Quizzes"})]}),e.jsxs("div",{className:"text-center bg-white rounded-lg p-3 sm:p-4 shadow-sm",children:[e.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-purple-600 mb-1 sm:mb-2",children:t.submissions.total}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Total Submissions"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:Object.entries(t.health.factors).map(([s,i])=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[Math.round(i),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i>=80?"bg-green-500":i>=60?"bg-blue-500":i>=40?"bg-yellow-500":i>=20?"bg-orange-500":"bg-red-500"}`,style:{width:`${Math.min(i,100)}%`}})})]},s))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Te,{className:"text-yellow-500"}),"System Alerts (",v.length,")"]}),v.length>0?e.jsx("div",{className:"space-y-3",children:v.slice(0,5).map(s=>e.jsx("div",{className:`p-3 rounded-lg border-l-4 ${s.severity==="high"?"bg-red-50 border-red-500":s.severity==="medium"?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx("span",{children:s.icon}),s.title]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:s.message})]}),e.jsx("span",{className:"text-xs text-gray-500",children:s.timestamp.toLocaleTimeString()})]})},s.id))}):e.jsxs("div",{className:"text-center text-gray-500 py-4",children:[e.jsx(Ue,{className:"mx-auto text-4xl mb-2 text-green-500"}),e.jsx("p",{children:"No system alerts - everything is running smoothly!"})]})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"User Distribution"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Students"}),e.jsx("span",{className:"font-semibold",children:t.users.byRole.students?.length||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Admins"}),e.jsx("span",{className:"font-semibold",children:t.users.byRole.admins?.length||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"SuperAdmins"}),e.jsx("span",{className:"font-semibold",children:t.users.byRole.superAdmins?.length||0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quiz Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Approved"}),e.jsx("span",{className:"font-semibold text-green-600",children:t.quizzes.byStatus.approved?.length||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pending"}),e.jsx("span",{className:"font-semibold text-yellow-600",children:t.quizzes.byStatus.pending?.length||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Draft"}),e.jsx("span",{className:"font-semibold text-gray-600",children:t.quizzes.byStatus.draft?.length||0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg per Quiz"}),e.jsx("span",{className:"font-semibold",children:t.submissions.averagePerQuiz})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg per User"}),e.jsx("span",{className:"font-semibold",children:t.submissions.averagePerUser})]}),t.submissions.recent!==null&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Recent Activity"}),e.jsx("span",{className:"font-semibold text-blue-600",children:t.submissions.recent})]})]})]})]})]}),r==="analytics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Platform Analytics"}),t?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Users by Department"}),e.jsx("div",{className:"space-y-3",children:Object.entries(t.users.byDepartment).map(([s,i])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${i/t.users.total*100}%`}})}),e.jsx("span",{className:"font-semibold w-8 text-right",children:i})]})]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Quizzes by Department"}),e.jsx("div",{className:"space-y-3",children:Object.entries(t.quizzes.byDepartment).map(([s,i])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${i/t.quizzes.total*100}%`}})}),e.jsx("span",{className:"font-semibold w-8 text-right",children:i})]})]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Submissions by Department"}),e.jsx("div",{className:"space-y-3",children:Object.entries(t.submissions.byDepartment).map(([s,i])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${i/t.submissions.total*100}%`}})}),e.jsx("span",{className:"font-semibold w-8 text-right",children:i})]})]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"System Performance"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:"System Health"}),e.jsx("span",{className:`font-bold ${t.health.status.color==="green"?"text-green-600":t.health.status.color==="blue"?"text-blue-600":t.health.status.color==="yellow"?"text-yellow-600":t.health.status.color==="orange"?"text-orange-600":"text-red-600"}`,children:t.health.status.label})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${t.health.status.color==="green"?"bg-green-500":t.health.status.color==="blue"?"bg-blue-500":t.health.status.color==="yellow"?"bg-yellow-500":t.health.status.color==="orange"?"bg-orange-500":"bg-red-500"}`,style:{width:`${t.health.score}%`}})})})]})})]})]}):e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})]})}),r==="leaderboard"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(K,{className:"text-yellow-500"}),"Global Leaderboard Management"]}),e.jsx("button",{onClick:()=>C("/leaderboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"View Full Leaderboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Top Performers"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"View Rankings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor student performance across all departments"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Competition Stats"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"Real-time"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track competitive engagement metrics"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-teal-50 rounded-lg border border-green-200",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Achievement System"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Active"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Streaks, points, and performance tracking"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-center text-gray-600",children:["ðŸ† Advanced leaderboard features include departmental rankings, global competition, streak tracking, and performance analytics.",e.jsx("br",{}),e.jsx("span",{className:"text-sm text-gray-500",children:'Click "View Full Leaderboard" to access the complete ranking system.'})]})})]})}),r==="users"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(ae,{className:"text-blue-500"}),"User Management (",S.length," users)"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.slice(0,20).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.fullName||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email}),e.jsx("div",{className:"text-xs text-gray-400",children:s.regNumber||"No reg number"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.department||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:s.role||"student",onChange:i=>ue(s.id,i.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"superadmin",children:"SuperAdmin"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Z(s),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:e.jsx(ie,{size:16})}),e.jsx("button",{onClick:()=>he(s.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete User",children:e.jsx(ne,{size:16})})]})})]},s.id))})]})}),S.length>20&&e.jsxs("div",{className:"p-4 text-center text-gray-500 border-t",children:["Showing first 20 of ",S.length," users"]})]})}),r==="quizzes"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(re,{className:"text-green-500"}),"Quiz Management (",D.length," quizzes)"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quiz"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.slice(0,20).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.title}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.description?.substring(0,60),"..."]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[s.questions?.length||0," questions"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.department}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:s.status,onChange:i=>ge(s.id,i.target.value),className:`text-sm border rounded px-2 py-1 ${s.status==="approved"?"border-green-300 bg-green-50":s.status==="pending"?"border-yellow-300 bg-yellow-50":"border-gray-300 bg-gray-50"}`,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>me(s),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:e.jsx(ie,{size:16})}),e.jsx("button",{onClick:()=>pe(s.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Quiz",children:e.jsx(ne,{size:16})})]})})]},s.id))})]})}),D.length>20&&e.jsxs("div",{className:"p-4 text-center text-gray-500 border-t",children:["Showing first 20 of ",D.length," quizzes"]})]})}),r==="logs"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(J,{className:"text-purple-500"}),"Activity Logs (",o.length," recent activities)"]}),e.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 text-sm",children:[e.jsx(V,{size:16}),"Refresh Logs"]})]}),d.logs?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):o.length>0?e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.map(s=>e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:s.icon}),e.jsx("span",{className:"font-medium text-gray-900",children:s.action}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.severity==="info"?"bg-blue-100 text-blue-800":s.severity==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.severity})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:s.user.name})," (",s.user.regNumber,") - ",s.user.department]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Quiz: ",e.jsx("strong",{children:s.quiz.title})," (",s.quiz.department,")"]}),s.details&&e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Score: ",s.details.score,"/",s.details.total," (",s.details.percentage,"%) â€¢ Time: ",Math.round((s.details.timeSpent||0)/60)," mins"]})]}),e.jsx("div",{className:"text-xs text-gray-500 ml-4",children:s.timestamp.toLocaleString()})]})},s.id))}):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(J,{className:"mx-auto text-4xl mb-4 opacity-50"}),e.jsx("p",{children:"No activity logs found"})]})]})}),r==="departments"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(W,{className:"text-indigo-500"}),"Department Analytics"]}),d.departments?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${s.healthScore>=80?"bg-green-100 text-green-800":s.healthScore>=60?"bg-blue-100 text-blue-800":s.healthScore>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(s.healthScore),"% Health"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Users"}),e.jsx("span",{className:"font-semibold",children:s.users.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Students"}),e.jsx("span",{className:"font-semibold text-blue-600",children:s.users.students})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Admins"}),e.jsx("span",{className:"font-semibold text-green-600",children:s.users.admins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Quizzes"}),e.jsx("span",{className:"font-semibold",children:s.quizzes.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Submissions"}),e.jsx("span",{className:"font-semibold text-purple-600",children:s.submissions.total})]}),s.submissions.averageScore>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Score"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:[Math.round(s.submissions.averageScore),"%"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${s.healthScore>=80?"bg-green-500":s.healthScore>=60?"bg-blue-500":s.healthScore>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.healthScore}%`}})}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Department Health Score"})]})]},s.name))}):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(W,{className:"mx-auto text-4xl mb-4 opacity-50"}),e.jsx("p",{children:"No department data available"})]})]})}),r==="maintenance"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(le,{className:"text-red-500"}),"System Maintenance & Backup"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"text-blue-500"}),"System Backup"]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Create a complete backup of all platform data including users, quizzes, submissions, and access codes."}),e.jsx("button",{onClick:xe,disabled:d.backup,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:d.backup?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Creating Backup..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{})," Create & Download Backup"]})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Ee,{className:"text-green-500"}),"System Status"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Database"}),e.jsxs("span",{className:"flex items-center gap-2 text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Authentication"}),e.jsxs("span",{className:"flex items-center gap-2 text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Real-time Updates"}),e.jsxs("span",{className:`flex items-center gap-2 ${j?"text-green-600":"text-gray-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${j?"bg-green-500 animate-pulse":"bg-gray-400"}`}),j?"Enabled":"Disabled"]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(te,{className:"text-purple-500"}),"Platform Metrics"]}),t&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Data Generation"}),e.jsx("span",{className:"text-sm text-gray-500",children:t.generatedAt.toLocaleTimeString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Health Score"}),e.jsxs("span",{className:`font-semibold ${t.health.status.color==="green"?"text-green-600":t.health.status.color==="blue"?"text-blue-600":t.health.status.color==="yellow"?"text-yellow-600":t.health.status.color==="orange"?"text-orange-600":"text-red-600"}`,children:[t.health.score,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Active Period"}),e.jsx("span",{className:"text-sm text-gray-500",children:t.timeFrame.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Ce,{className:"text-yellow-500"}),"Quick Actions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:Y,className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm",children:[e.jsx(V,{size:16}),"Refresh All Data"]}),e.jsxs("button",{onClick:()=>P(!j),className:`w-full flex items-center justify-center gap-2 px-3 py-2 rounded text-sm ${j?"bg-red-100 hover:bg-red-200 text-red-700":"bg-green-100 hover:bg-green-200 text-green-700"}`,children:[e.jsx(qe,{size:16}),j?"Disable":"Enable"," Real-time"]}),e.jsxs("button",{onClick:()=>C("/leaderboard"),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded text-sm",children:[e.jsx(K,{size:16}),"View Leaderboard"]})]})]})]})]})})]})]})}export{Ye as default};
