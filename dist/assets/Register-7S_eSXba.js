import{r as i,u as b,j as e,L as y}from"./index--pE2Y7O1.js";import{e as j,a as w,f as v,d as F,b as E}from"./firebaseConfig-DFE2fxb7.js";import{d as B,e as C,f as S,a as A,b as M}from"./index-xssimCa8.js";import{m as l}from"./proxy-DxM4xlW9.js";function P(){const[s,o]=i.useState({fullName:"",regNumber:"",department:"",email:"",password:""}),[m,d]=i.useState(""),[u,x]=i.useState(""),[n,p]=i.useState(!1),h=b(),g=["Physics","Chemistry","Biology","Computer Science","Mathematics","Statistics","Engineering","Geology","Applied Biology","Microbiology","Biochemistry","Others"],t=a=>{const{name:r,value:c}=a.target;o(N=>({...N,[r]:c}))},f=async a=>{a.preventDefault(),d(""),x(""),p(!0);try{const c=(await j(w,s.email,s.password)).user.uid;await v(F(E,"users",c),{fullName:s.fullName,regNumber:s.regNumber,department:s.department,email:s.email,role:"student",createdAt:new Date}),x("Registration successful! Redirecting..."),setTimeout(()=>h("/login"),2e3),o({fullName:"",regNumber:"",department:"",email:"",password:""})}catch(r){d(r.message.includes("email-already-in-use")?"Email already registered":r.message.includes("weak-password")?"Password should be at least 6 characters":"Registration failed. Please try again.")}finally{p(!1)}};return e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-[#F8FAFC] flex items-center justify-center p-4",children:e.jsxs(l.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg overflow-hidden w-full max-w-md",children:[e.jsxs("div",{className:"bg-[#6366F1] p-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Your Account"}),e.jsx("p",{className:"text-[#E2E8F0] mt-1",children:"Join thousands of students using Looma"})]}),e.jsxs("div",{className:"px-6 pt-4",children:[m&&e.jsxs(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-[#F43F5E]/10 text-[#F43F5E] p-3 rounded-lg mb-4 text-sm flex items-center",children:[e.jsx("span",{className:"mr-2",children:"⚠️"})," ",m]}),u&&e.jsxs(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-[#10B981]/10 text-[#10B981] p-3 rounded-lg mb-4 text-sm flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"})," ",u]})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[#1E293B] text-sm font-medium flex items-center",children:[e.jsx(B,{className:"mr-2"})," Full Name"]}),e.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:t,required:!0,className:"w-full p-3 border border-[#E2E8F0] rounded-lg focus:ring-2 focus:ring-[#6366F1] focus:border-transparent",placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[#1E293B] text-sm font-medium flex items-center",children:[e.jsx(C,{className:"mr-2"})," Registration Number"]}),e.jsx("input",{type:"text",name:"regNumber",value:s.regNumber,onChange:t,required:!0,className:"w-full p-3 border border-[#E2E8F0] rounded-lg focus:ring-2 focus:ring-[#6366F1] focus:border-transparent",placeholder:"EBSU/2023/01912"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[#1E293B] text-sm font-medium flex items-center",children:[e.jsx(S,{className:"mr-2"})," Department"]}),e.jsxs("select",{name:"department",value:s.department,onChange:t,required:!0,className:"w-full p-3 border border-[#E2E8F0] rounded-lg focus:ring-2 focus:ring-[#6366F1] focus:border-transparent text-[#1E293B]",children:[e.jsx("option",{value:"",children:"Select your department"}),g.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[#1E293B] text-sm font-medium flex items-center",children:[e.jsx(A,{className:"mr-2"})," Email Address"]}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:t,required:!0,className:"w-full p-3 border border-[#E2E8F0] rounded-lg focus:ring-2 focus:ring-[#6366F1] focus:border-transparent",placeholder:"your@email.com"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[#1E293B] text-sm font-medium flex items-center",children:[e.jsx(M,{className:"mr-2"})," Password"]}),e.jsx("input",{type:"password",name:"password",value:s.password,onChange:t,required:!0,minLength:6,className:"w-full p-3 border border-[#E2E8F0] rounded-lg focus:ring-2 focus:ring-[#6366F1] focus:border-transparent",placeholder:"At least 6 characters"})]}),e.jsx(l.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-3 px-4 rounded-lg font-semibold text-white ${n?"bg-[#6366F1]/80":"bg-[#6366F1] hover:bg-[#6366F1]/90"} transition-colors`,children:n?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Register Now"})]}),e.jsx("div",{className:"px-6 pb-6 text-center",children:e.jsxs("p",{className:"text-[#64748B] text-sm",children:["Already have an account?"," ",e.jsx(y,{to:"/login",className:"text-[#6366F1] hover:underline font-medium",children:"Sign in here"})]})})]})})}export{P as default};
